(this["webpackJsonpvc-greeting-card"]=this["webpackJsonpvc-greeting-card"]||[]).push([[0],{144:function(e,t){},149:function(e,t){},150:function(e,t){},155:function(e,t){},160:function(e,t){},188:function(e,t){},218:function(e,t){},241:function(e,t){},303:function(e,t,n){"use strict";(function(e){var a=n(6),r=n.n(a),c=n(104),i=n(51),o=n.n(i),s=!("undefined"!==typeof e&&e.versions&&e.versions.node)&&("undefined"!==typeof window||"undefined"!==typeof self)?o.a.documentLoaders.xhr():o.a.documentLoaders.node();t.a=function(e){return function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("wrappedDocumentLoader...",t),e.abrupt("return",s(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}).call(this,n(16))},304:function(e,t,n){e.exports=n(530)},309:function(e,t,n){},332:function(e,t){},338:function(e,t){},349:function(e,t){},350:function(e,t){},365:function(e,t){},366:function(e,t){},383:function(e,t){},392:function(e,t){},394:function(e,t){},424:function(e,t){},425:function(e,t){},527:function(e,t){},529:function(e,t){},530:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(302),i=n.n(c),o=(n(309),n(56)),s=n(57),u=n(59),l=n(58),d=n(60),m=n(132),g=n.n(m),f=n(6),p=n.n(f),h=n(104),v=n(133),b=n.n(v),y=n(303),w=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.greetingCard;return r.a.createElement("div",{className:"vc-greeting-card-wrapper",style:{backgroundImage:'url("'.concat(e.image,'")')}},r.a.createElement("div",{className:"vc-greeting-card-header"},r.a.createElement("h3",null,r.a.createElement("span",{className:"vc-greeting-card-label"},"From: "),e.from),r.a.createElement("h3",null,r.a.createElement("span",{className:"vc-greeting-card-label"},"To: "),e.to),r.a.createElement("h3",null,r.a.createElement("span",{className:"vc-greeting-card-label"},"Message: "),e.message)))}}]),t}(r.a.Component),E=n(74).Ed25519KeyPair,j=n(151),O=n(505),C=j.suites.Ed25519Signature2018,k=n(512).driver().keyToDidDoc,D="http://i.imgur.com/SxtVfyQ.jpg",B=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={issuerVerificationMethod:"",toDID:"did:example:123",publicKeyBase58:"",privateKeyBase58:"",message:"Happy Holidays!",backgroundImage:D},n.convertCardToVC=Object(h.a)(p.a.mark((function e(){var t,a,r,c,i,o,s,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new E({publicKeyBase58:n.state.publicKeyBase58,privateKeyBase58:n.state.privateKeyBase58}),a=k(t),r=new C({issuerVerificationMethod:a.id,key:t}),c={"@context":["https://www.w3.org/2018/credentials/v1","https://transmute-industries.github.io/vc-greeting-card/context/vc-greeting-card-v0.0.jsonld"],id:"https://example.com/credentials/1872",type:["VerifiableCredential","GreetingCard"],issuer:a.id,issuanceDate:(new Date).toISOString(),credentialSubject:{id:n.state.toDID,greetingCard:{type:"HolidayCard",image:n.state.backgroundImage,message:n.state.message,from:n.state.issuerVerificationMethod,to:n.state.toDID}}},e.next=6,O.issue({credential:c,suite:r,documentLoader:Object(y.a)({})});case 6:i=e.sent,o=JSON.stringify(i),s=b.a.encode(o),u=window.location.href+"?vcgc="+s,window.location.href=u;case 11:case"end":return e.stop()}}),e)}))),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.generate();case 2:t=e.sent,n=k(t),this.setState({issuerVerificationMethod:n.id,publicKeyBase58:t.publicKeyBase58,privateKeyBase58:t.privateKeyBase58});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"vc-greeting-card-options"},r.a.createElement("h3",null,"From Private Key:"),r.a.createElement("input",{value:this.state.privateKeyBase58,onChange:function(t){e.setState({privateKeyBase58:t.target.value})}}),r.a.createElement("h3",null,"From Public Key:"),r.a.createElement("input",{value:this.state.publicKeyBase58,onChange:function(t){var n=new E({publicKeyBase58:t.target.value,privateKeyBase58:e.state.privateKeyBase58}),a=k(n);e.setState({publicKeyBase58:t.target.value,issuerVerificationMethod:a.id})}}),r.a.createElement("h3",null,"To DID:"),r.a.createElement("input",{value:this.state.toDID,onChange:function(t){e.setState({toDID:t.target.value})}}),r.a.createElement("h3",null,"Message:"),r.a.createElement("input",{value:this.state.message,onChange:function(t){e.setState({message:t.target.value})}}),r.a.createElement("br",null),r.a.createElement("h3",null,"Background: "),r.a.createElement("input",{value:this.state.backgroundImage,onChange:function(t){e.setState({backgroundImage:t.target.value})}}),r.a.createElement("br",null),r.a.createElement("h3",null,r.a.createElement("button",{onClick:this.convertCardToVC},"Get VC Greeting Card"))),r.a.createElement(w,{greetingCard:{image:this.state.backgroundImage,from:this.state.issuerVerificationMethod,to:this.state.toDID,message:this.state.message}}))}}]),t}(r.a.Component),K=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=JSON.parse(b.a.decode(g.a.parse(window.location.search).vcgc));return r.a.createElement(r.a.Fragment,null,r.a.createElement(w,{greetingCard:e.credentialSubject.greetingCard}),r.a.createElement("pre",null,JSON.stringify(e,null,2)),r.a.createElement("button",{onClick:function(){!function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,".concat(encodeURIComponent(t))),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}("vc-greeting-card.json",JSON.stringify(e,null,2))}},"Download"))}}]),t}(r.a.Component),I=g.a.parse(window.location.search),S=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return I.vcgc?r.a.createElement(K,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(B,null))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},76:function(e,t){},88:function(e,t){}},[[304,1,2]]]);
//# sourceMappingURL=main.45e65ebd.chunk.js.map